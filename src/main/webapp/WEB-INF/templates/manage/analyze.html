<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../../../static/js/lib/jquery-3.1.1.min.js"></script>
    <script src="../../../static/js/lib/echarts.js"></script>
</head>
<body>

<div style="padding: 1.3rem;">
    <h1>文章阅读量排行</h1>
    <div id="main" style="width:30%;height:400px;float:left"></div>
</div>
</body>
<script>
    var chart = echarts.init(document.getElementById("main"));

    // var dataAxis = ['点', '击', '柱', '子', '或', '者', '两', '指', '在', '触', '屏', '上', '滑', '动', '能', '够', '自', '动', '缩', '放'];
    // var data = [220, 182, 191, 234, 290, 330, 310, 123, 442, 321, 90, 149, 210, 122, 133, 334, 198, 123, 125, 220];


    baseOption = {
        title: {
            text: '特性示例：渐变色 阴影 点击缩放',
            subtext: 'Feature Sample: Gradient Color, Shadow, Click Zoom'
        },
        xAxis: {
            data: [],
            axisLabel: {
                inside: true,
                textStyle: {
                    color: '#fff'
                }
            },
            axisTick: {
                show: false
            },
            axisLine: {
                show: false
            },
            z: 10
        },
        yAxis: {
            axisLine: {
                show: false
            },
            axisTick: {
                show: false
            },
            axisLabel: {
                textStyle: {
                    color: '#999'
                }
            }
        },
        dataZoom: [{
            type: 'inside'
        }],
        series: [{ // For shadow
            type: 'bar',
            itemStyle: {
                color: 'rgba(0,0,0,0.05)'
            },
            barGap: '-100%',
            barCategoryGap: '40%',
            data: [],
            animation: false
        },
            {
                type: 'bar',
                itemStyle: {
                    color: new echarts.graphic.LinearGradient(
                        0, 0, 0, 1,
                        [{
                            offset: 0,
                            color: '#83bff6'
                        },
                            {
                                offset: 0.5,
                                color: '#188df0'
                            },
                            {
                                offset: 1,
                                color: '#188df0'
                            }
                        ]
                    )
                },
                emphasis: {
                    itemStyle: {
                        color: new echarts.graphic.LinearGradient(
                            0, 0, 0, 1,
                            [{
                                offset: 0,
                                color: '#2378f7'
                            },
                                {
                                    offset: 0.7,
                                    color: '#2378f7'
                                },
                                {
                                    offset: 1,
                                    color: '#83bff6'
                                }
                            ]
                        )
                    }
                },
                data: []
            }
        ]
    };

    var option;
    $.get("/analyze/option", function (res) {
        baseOption.xAxis.data = res.data.x;
        baseOption.series[1].data = res.data.y;
        var dataShadow = [];
        for (var i = 0; i < res.data.y.length; i++) {
            dataShadow.push(500);
        }
        baseOption.series[0].data = dataShadow;
        chart.setOption(baseOption);
    });

</script>
</html>
